{"ast":null,"code":"import axios from 'axios';\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\nexport const SET_CHILD_ACTION = 'SET_CHILD_ACTION';\nexport const SET_IMMUNIZATION_ACTION = 'SET_IMMUNIZATION_ACTION';\nexport function loginAction(userType, credentials) {\n  console.log('here2');\n  return async function (dispatch) {\n    return await axiosWithAuth().post(\"/auth/login/\".concat(userType), credentials); // .then(res => {\n    //     // console.log('RES FROM LOGIN: ', res);\n    //     localStorage.setItem('token', res.data.token);\n    //     axiosWithAuth()\n    //         .get(`/parent/${res.data.user.id}/children`)\n    //         .then(res => {\n    //             console.log('here3');\n    //             dispatch({type: SET_CHILD_ACTION, payload: res.data});\n    //             // res.data.map((child, index) => {\n    //             //     console.log('here');\n    //             //     axiosWithAuth().get(`/child/${child.id}/immunization`)\n    //             //         .then(res => {\n    //             //             console.log('IMMUNIZATIONS LOOP ACTION: ', res);\n    //             //             dispatch({type: SET_IMMUNIZATION_ACTION, payload: {immuneObj: res.data, index: index}});\n    //             //         })\n    //             //         .catch(err => console.log('ERROR IMMUNIZATION REQ: ', err.message));\n    //             // })\n    //         })\n    //         .catch(err => console.log('ERROR CHILD REQ: ', err.message));\n    // })\n    // .catch(err => console.log('ERROR LOGIN: ', err.message));\n  };\n}\nexport const getImmunizationsAction = childArr => dispatch => {\n  console.log('CHILD ARRAY: ', childArr); // childArr.map((childObj, index) => {\n  //     axiosWithAuth()\n  //         .get(`/child/${childObj.id}/immunization`)\n  //         .then(res => {\n  //             dispatch({type: SET_IMMUNIZATION_ACTION, payload:{immuneObj: res.data, index: index}})\n  //         })\n  //         .catch(err => console.log('ERROR IMMUNIZATION REQ: ', err.message));\n  // })\n};","map":{"version":3,"sources":["C:\\Users\\Brandon Nichols\\Documents\\VScodeProjects\\BuildWeek-ImmunizationTracker\\Front-End\\immutrack\\src\\actions\\index.js"],"names":["axios","axiosWithAuth","SET_CHILD_ACTION","SET_IMMUNIZATION_ACTION","loginAction","userType","credentials","console","log","dispatch","post","getImmunizationsAction","childArr"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,wBAA9B;AAEA,OAAO,MAAMC,gBAAgB,GAAG,kBAAzB;AACP,OAAO,MAAMC,uBAAuB,GAAG,yBAAhC;AAEP,OAAO,SAASC,WAAT,CAAsBC,QAAtB,EAAgCC,WAAhC,EAA4C;AAC/CC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAO,gBAAeC,QAAf,EAAwB;AAE1B,WAAO,MAAMR,aAAa,GACtBS,IADS,uBACWL,QADX,GACuBC,WADvB,CAAb,CAF0B,CAIvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACP,GAzBD;AA0BH;AAED,OAAO,MAAMK,sBAAsB,GAAGC,QAAQ,IAAIH,QAAQ,IAAI;AAC1DF,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BI,QAA7B,EAD0D,CAE1D;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CAXM","sourcesContent":["import axios from 'axios';\r\nimport { axiosWithAuth } from '../utils/axiosWithAuth';\r\n\r\nexport const SET_CHILD_ACTION = 'SET_CHILD_ACTION';\r\nexport const SET_IMMUNIZATION_ACTION = 'SET_IMMUNIZATION_ACTION';\r\n\r\nexport function loginAction (userType, credentials){\r\n    console.log('here2');\r\n    return async function(dispatch){\r\n        \r\n         return await axiosWithAuth()\r\n            .post(`/auth/login/${userType}`, credentials)\r\n            // .then(res => {\r\n            //     // console.log('RES FROM LOGIN: ', res);\r\n            //     localStorage.setItem('token', res.data.token);\r\n            //     axiosWithAuth()\r\n            //         .get(`/parent/${res.data.user.id}/children`)\r\n            //         .then(res => {\r\n            //             console.log('here3');\r\n            //             dispatch({type: SET_CHILD_ACTION, payload: res.data});\r\n            //             // res.data.map((child, index) => {\r\n            //             //     console.log('here');\r\n            //             //     axiosWithAuth().get(`/child/${child.id}/immunization`)\r\n            //             //         .then(res => {\r\n            //             //             console.log('IMMUNIZATIONS LOOP ACTION: ', res);\r\n            //             //             dispatch({type: SET_IMMUNIZATION_ACTION, payload: {immuneObj: res.data, index: index}});\r\n            //             //         })\r\n            //             //         .catch(err => console.log('ERROR IMMUNIZATION REQ: ', err.message));\r\n            //             // })\r\n            //         })\r\n            //         .catch(err => console.log('ERROR CHILD REQ: ', err.message));\r\n            // })\r\n            // .catch(err => console.log('ERROR LOGIN: ', err.message));\r\n    }\r\n}\r\n\r\nexport const getImmunizationsAction = childArr => dispatch => {\r\n    console.log('CHILD ARRAY: ', childArr);\r\n    // childArr.map((childObj, index) => {\r\n\r\n    //     axiosWithAuth()\r\n    //         .get(`/child/${childObj.id}/immunization`)\r\n    //         .then(res => {\r\n    //             dispatch({type: SET_IMMUNIZATION_ACTION, payload:{immuneObj: res.data, index: index}})\r\n    //         })\r\n    //         .catch(err => console.log('ERROR IMMUNIZATION REQ: ', err.message));\r\n    // })\r\n}"]},"metadata":{},"sourceType":"module"}